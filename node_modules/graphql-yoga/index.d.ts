/// <reference types="node" />
import { IncomingMessage, Server, ServerResponse } from 'http';
import { getNodeRequest } from '@ardatan/graphql-helix';
import { BaseGraphQLServer } from '@graphql-yoga/core';
import type { GraphQLServerInject, GraphQLServerOptions } from './types';
import LightMyRequest from 'light-my-request';
import { ExecutionResult } from 'graphql';
/**
 * Create a simple yet powerful GraphQL server ready for production workloads.
 * Spec compliant server that supports bleeding edge GraphQL features without any vendor lock-ins.
 *
 * Comes baked in with:
 *
 * - Envelop - Plugin system for GraphQL
 * - GraphQL Helix - Extensible and Framework agnostic GraphQL server
 * - GraphiQL - GraphQL IDE for your browser
 * - Pino - Super fast, low overhead Node.js logger
 *
 * Example:
 * ```ts
 *  import { schema } from './schema'
 *   // Provide a GraphQL schema
 *  const server = new GraphQLServer({ schema })
 *  // Start the server. Defaults to http://localhost:4000/graphql
 *  server.start()
 * ```
 */
export declare class GraphQLServer<TContext> extends BaseGraphQLServer<TContext> {
    /**
     * Port for server
     */
    private port;
    /**
     * GraphQL Endpoint
     */
    private endpoint;
    /**
     * Hostname for server
     */
    private hostname;
    private _server;
    constructor(options: GraphQLServerOptions<TContext>);
    handleIncomingMessage(...args: Parameters<typeof getNodeRequest>): Promise<Response>;
    requestListener(req: IncomingMessage, res: ServerResponse): Promise<void>;
    get server(): Server;
    start(callback?: VoidFunction): Promise<void>;
    stop(callback?: (err?: Error) => void): Promise<void>;
    /**
     * Testing utility to mock http request for GraphQL endpoint
     *
     *
     * Example - Test a simple query
     * ```ts
     * const response = await yoga.inject({
     *  document: "query { ping }",
     * })
     * expect(response.statusCode).toBe(200)
     * expect(response.data.ping).toBe('pong')
     * ```
     **/
    inject<TData = any, TVariables = any>({ document, variables, operationName, headers, }: GraphQLServerInject<TData, TVariables>): Promise<{
        response: LightMyRequest.Response;
        executionResult: ExecutionResult<TData>;
    }>;
}
export type { GraphQLServerOptions } from './types';
export { Plugin, enableIf, envelop, useEnvelop, usePayloadFormatter, useExtendContext, useTiming, EnvelopError as GraphQLServerError, } from '@envelop/core';
export { GraphQLBlob } from '@graphql-yoga/core';
